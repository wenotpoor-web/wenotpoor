<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Oath · WE NOT POOR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>

<body class="wnp">
  <main class="wrap">

    <header class="hero">
      <!-- Brand with red accent under WE NOT -->
      <div class="brand-wrap brand-offset">
        <span class="brand">WE NOT POOR</span>
        <span class="brand-accent" aria-hidden="true"></span>
      </div>

      <h1>READ THIS CAREFULLY</h1>
      <p class="sub">This is not motivation. This is a contract with yourself.</p>
    </header>

    <!-- Centered + proportionate card -->
    <section class="card oath-card">

      <p class="oath-text">
        I am not poor in resources.<br />
        I am poor only where I lack discipline.<br /><br />

        I will not confuse comfort with safety.<br />
        I will not confuse movement with progress.<br />
        I will not wait to be rescued.<br /><br />

        My results are my responsibility.<br />
        No explanation will save me.<br /><br />

        From this point forward,<br />
        I act as who I decided to be.
      </p>

      <!-- Centered checkbox -->
      <div class="oath-confirm">
        <label class="oath-check">
          <input id="oathAgree" type="checkbox" class="oath-checkbox" />
          <span>I accept this without negotiation.</span>
        </label>
      </div>

      <div class="actions" style="flex-direction:column; gap:12px;">
        <a id="enterBtn" class="btn btn-disabled" href="#" aria-disabled="true">ENTER</a>
        <div id="msg" class="result err" style="display:none;"></div>
      </div>

    </section>

  </main>

  <!-- Page-only styles -->
  <style>
    /* Brand accent */
    .brand-wrap{
      display:inline-flex;
      flex-direction:column;
      gap:4px;
    }
    .brand-offset{ align-items:flex-start; }
    .brand-accent{
      width:36px;
      height:3px;
      background:var(--danger,#FF2A2A);
      border-radius:999px;
      margin-left:2px;
    }

    /* Proportionate oath card */
    .oath-card{
      max-width:520px; /* ⬅ reduced width for authority & focus */
    }

    /* Centered oath text */
    .oath-text{
      margin:0;
      line-height:1.55;
      color:rgba(255,212,0,.92);
      font-weight:700;
      text-align:center;
    }

    /* Centered checkbox block */
    .oath-confirm{
      display:flex;
      justify-content:center;
      margin-top:18px;
    }
    .oath-check{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:600;
      line-height:1.35;
      cursor:pointer;
      text-align:center;
    }

    /* Restore native checkbox */
    .oath-checkbox{
      width:18px;
      height:18px;
      appearance:auto !important;
      -webkit-appearance:checkbox !important;
      cursor:pointer;
    }

    /* Disabled button look */
    .btn-disabled{
      opacity:.45;
      pointer-events:none;
      filter:none !important;
    }
  </style>

  <script>
    const checkbox = document.getElementById("oathAgree");
    const enterBtn = document.getElementById("enterBtn");
    const msg = document.getElementById("msg");

    function showMessage(text){
      if (!text){
        msg.style.display = "none";
        msg.textContent = "";
        return;
      }
      msg.style.display = "block";
      msg.textContent = text;
    }

    function setEnabled(enabled){
      if (enabled){
        enterBtn.classList.remove("btn-disabled");
        enterBtn.setAttribute("href", "/pending.html");
        enterBtn.setAttribute("aria-disabled", "false");
        showMessage("");
      } else {
        enterBtn.classList.add("btn-disabled");
        enterBtn.setAttribute("href", "#");
        enterBtn.setAttribute("aria-disabled", "true");
      }
    }

    setEnabled(false);

    checkbox.addEventListener("change", () => {
      setEnabled(checkbox.checked);
    });

    enterBtn.addEventListener("click", (e) => {
      if (enterBtn.classList.contains("btn-disabled")){
        e.preventDefault();
        showMessage("You must accept the oath before you can enter.");
      }
    });
  </script>

</body>
</html>
